# ëª¨ë“ˆ ì‹œìŠ¤í…œ

## ëª¨ë“ˆ(module)ì´ë€?

ëª¨ë“ˆì´ë€ ì—¬ëŸ¬ ê¸°ëŠ¥ë“¤ì— ê´€í•œ ì½”ë“œê°€ ëª¨ì—¬ìˆëŠ” í•˜ë‚˜ì˜ íŒŒì¼ ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì„ ìœ„í•´ ì‚¬ìš©í•œë‹¤.

- **`ìœ ì§€ë³´ìˆ˜ì„±`** : ê¸°ëŠ¥ë“¤ì´ ëª¨ë“ˆí™”ê°€ ì˜ ë˜ì–´ìˆë‹¤ë©´, ì˜ì¡´ì„±ì„ ê·¸ë§Œí¼ ì¤„ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì–´ë–¤ ê¸°ëŠ¥ì„ ê°œì„ í•œë‹¤ê±°ë‚˜ ìˆ˜ì •í•  ë•Œ í›¨ì”¬ í¸í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.
- **`ë„¤ì„ìŠ¤í˜ì´ìŠ¤í™”`** : ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì „ì—­ë³€ìˆ˜ëŠ” ì „ì—­ê³µê°„ì„ ê°€ì§€ê¸° ë•Œë¬¸ì— ì½”ë“œì˜ ì–‘ì´ ë§ì•„ì§ˆìˆ˜ë¡ ê²¹ì¹˜ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ ë§ì•„ì§ˆ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ëª¨ë“ˆë¡œ ë¶„ë¦¬í•˜ë©´ ëª¨ë“ˆë§Œì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ê°–ê¸° ë•Œë¬¸ì— ê·¸ ë¬¸ì œê°€ í•´ê²°ëœë‹¤.
- **`ì¬ì‚¬ìš©ì„±`** : ë˜‘ê°™ì€ ì½”ë“œë¥¼ ë°˜ë³µí•˜ì§€ ì•Šê³  ëª¨ë“ˆë¡œ ë¶„ë¦¬ì‹œì¼œì„œ í•„ìš”í•  ë•Œë§ˆë‹¤ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## CommonJS

CommonJSëŠ” JavaScript ëª¨ë“ˆ ì‹œìŠ¤í…œì˜ ì¼ë¶€ë¡œ, ì£¼ë¡œ ì„œë²„ ì¸¡ JavaScript í™˜ê²½ì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“ˆ ì‹œìŠ¤í…œì´ë‹¤. CommonJSëŠ” Node.jsì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ë©°, ì„œë²„ ì¸¡ ë°±ì—”ë“œ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ì£¼ë¡œ í™œìš©ëœë‹¤. ì´ ì‹œìŠ¤í…œì€ ëª¨ë“ˆí™”ëœ ì½”ë“œë¥¼ ì‰½ê²Œ ì‘ì„±í•˜ê³  ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.

**`ëª¨ë“ˆ ì •ì˜`**

- CommonJS ëª¨ë“ˆì€ module.exportsì™€ exports ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜
- module.exportsë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆì—ì„œ ë‚´ë³´ë‚¼ ê°ì²´ë‚˜ í•¨ìˆ˜ë¥¼ ì§€ì •

```jsx
// ëª¨ë“ˆ ì •ì˜
module.exports = {
  greet: function (name) {
    return `Hello, ${name}!`;
  },
  // ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ ë“±ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
};
```

**`ëª¨ë“ˆ ê°€ì ¸ì˜¤ê¸°`**

- ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ CommonJS ëª¨ë“ˆì„ ê°€ì ¸ì˜¤ë ¤ë©´ require() í•¨ìˆ˜ë¥¼ ì‚¬ìš©

```jsx
// main.js
const myModule = require("./my-module");
console.log(myModule.greet("John")); // ì¶œë ¥: "Hello, John!"
```

## AMD

AMD(Asynchronous Module Definition)ëŠ” JavaScript ëª¨ë“ˆ ì‹œìŠ¤í…œì˜ í•œ í˜•íƒœë¡œ, **ì£¼ë¡œ ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ì‚¬ìš©**ëœë‹¤. AMDëŠ” ëª¨ë“ˆì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë¡œë“œí•˜ê³  ì •ì˜í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ë„ì›€ì´ ëœë‹¤.

**`ëª¨ë“ˆ ì •ì˜`**

- AMD ëª¨ë“ˆì€ `define` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜ëœë‹¤. ì´ í•¨ìˆ˜ëŠ” ëª¨ë“ˆì˜ **ì¢…ì†ì„±**(dependencies)ê³¼ **ëª¨ë“ˆ ë‚´ìš©**(factory function)ì„ ì •ì˜í•œë‹¤.

```jsx
define(["dependency1", "dependency2"], function (dep1, dep2) {
  // ëª¨ë“ˆ ë‚´ìš©ì„ ì •ì˜í•©ë‹ˆë‹¤.
  return {
    someFunction: function () {
      // ëª¨ë“ˆ ê¸°ëŠ¥ì„ ì •ì˜í•©ë‹ˆë‹¤.
    },
  };
});
```

**`ëª¨ë“ˆ ê°€ì ¸ì˜¤ê¸°`**

- ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ AMD ëª¨ë“ˆì„ ê°€ì ¸ì˜¤ë ¤ë©´ require í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤. ëª¨ë“ˆì˜ ì¢…ì†ì„±ì€ ìë™ìœ¼ë¡œ ë¡œë“œë˜ê³  ì½œë°± í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.

```jsx
require(["myModule"], function (myModule) {
  myModule.someFunction();
});
```

> ğŸ’¡ **ë¹„ë™ê¸° ë¡œë”©**
>
> - AMD ëª¨ë“ˆ ì‹œìŠ¤í…œì€ ëª¨ë“ˆì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë¡œë“œí•˜ë¯€ë¡œ í˜ì´ì§€ ë¡œë”© ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤. í•„ìš”í•œ ëª¨ë“ˆë§Œ ë¡œë“œë˜ê³  ì‚¬ìš©ëœë‹¤.

## UMD

UMD(Universal Module Definition)ëŠ” J**avaScript ëª¨ë“ˆì„ ì—¬ëŸ¬ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“  í˜•ì‹ ì¤‘ í•˜ë‚˜**ë‹¤. UMDëŠ” ëª¨ë“ˆì„ ë¸Œë¼ìš°ì € í™˜ê²½, Node.js ë“± ë‹¤ì–‘í•œ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì–´ ìˆìœ¼ë©°, **CommonJS** ë° **AMD** ëª¨ë“ˆ ì‹œìŠ¤í…œê³¼ **í˜¸í™˜ì„±**ì„ ê°€ì§€ê³  ìˆë‹¤.

**`ëª¨ë“ˆ ì •ì˜`**

- UMD ëª¨ë“ˆì€ ìì²´ ì‹¤í–‰ ê°€ëŠ¥í•œ í•¨ìˆ˜ë¡œ ì •ì˜ëœë‹¤. ì´ í•¨ìˆ˜ëŠ” ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ì „ì—­ ê°ì²´(window)ì— ëª¨ë“ˆì„ ë…¸ì¶œí•˜ê±°ë‚˜ Node.js í™˜ê²½ì—ì„œ exports ê°ì²´ì— ëª¨ë“ˆì„ í• ë‹¹í•œë‹¤.

```jsx
(function (root, factory) {
  if (typeof define === "function" && define.amd) {
    // AMD í™˜ê²½ì—ì„œ ëª¨ë“ˆ ì •ì˜
    define(["dependency1", "dependency2"], factory);
  } else if (typeof exports === "object") {
    // CommonJS(Node.js) í™˜ê²½ì—ì„œ ëª¨ë“ˆ ì •ì˜
    module.exports = factory(require("dependency1"), require("dependency2"));
  } else {
    // ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ëª¨ë“ˆ ì •ì˜
    root.myModule = factory(root.dependency1, root.dependency2);
  }
})(typeof self !== "undefined" ? self : this, function (dep1, dep2) {
  // ëª¨ë“ˆ ë‚´ìš©ì„ ì •ì˜
  return {
    someFunction: function () {
      // ëª¨ë“ˆ ê¸°ëŠ¥ì„ ì •ì˜
    },
  };
});
```

**`ëª¨ë“ˆ ê°€ì ¸ì˜¤ê¸°`**

- UMD ëª¨ë“ˆì„ ì‚¬ìš©í•  ë•Œ, í•´ë‹¹ ëª¨ë“ˆì´ í˜„ì¬ í™˜ê²½ì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš© ê°€ëŠ¥í•œì§€ì— ë”°ë¼ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì „ì—­ ê°ì²´ë¥¼ í†µí•´ ëª¨ë“ˆì— ì ‘ê·¼í•˜ê³ , **CommonJS**ë‚˜ **AMD** í™˜ê²½ì—ì„œëŠ” ê°ê°ì˜ ë°©ì‹ìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.

```jsx
// ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ì‚¬ìš©
myModule.someFunction();

// CommonJS(Node.js) í™˜ê²½ì—ì„œ ì‚¬ìš©
const myModule = require("myModule");
myModule.someFunction();

// AMD í™˜ê²½ì—ì„œ ì‚¬ìš©
require(["myModule"], function (myModule) {
  myModule.someFunction();
});
```

## ES6(ES2015)

- ES6(ECMAScript 2015) ëª¨ë“ˆ ì‹œìŠ¤í…œì€ JavaScriptì˜ í‘œì¤€ ëª¨ë“ˆ ì‹œìŠ¤í…œìœ¼ë¡œ, ë¸Œë¼ìš°ì € ë° Node.jsì™€ ê°™ì€ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ES6 ëª¨ë“ˆ ì‹œìŠ¤í…œì€ ë‹¤ë¥¸ ëª¨ë“ˆ ì‹œìŠ¤í…œê³¼ ë¹„êµí•˜ì—¬ ë” ê°„ê²°í•˜ê³  ê°•ë ¥í•œ ëª¨ë“ˆ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

**`ëª¨ë“ˆ ì •ì˜`**

- ES6 ëª¨ë“ˆì€ **export** ë° **import** í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜ëœë‹¤.
- **export** í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“ˆì—ì„œ ì™¸ë¶€ë¡œ ë‚´ë³´ë‚¼ í•­ëª©ì„ ì§€ì •í•œë‹¤.

```jsx
// ëª¨ë“ˆ ì •ì˜
export function add(a, b) {
  return a + b;
}

export const pi = 3.14159265359;
```

**`ëª¨ë“ˆ ê°€ì ¸ì˜¤ê¸°`**

- ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ES6 ëª¨ë“ˆì„ ê°€ì ¸ì˜¤ë ¤ë©´ **import** í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.

```jsx
/ ëª¨ë“ˆ ê°€ì ¸ì˜¤ê¸°
import { add, pi } from './my-module';
>
console.log(add(1, 2)); // ì¶œë ¥: 3
console.log(pi); // ì¶œë ¥: 3.14159265359
```

> ğŸ’¡ ES6 ëª¨ë“ˆì€ í˜„ëŒ€ JavaScript ê°œë°œì—ì„œ í‘œì¤€ì ì¸ ë°©ì‹ìœ¼ë¡œ ëª¨ë“ˆì„ ì‘ì„±í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë° ê¶Œì¥ëœë‹¤.

## ì°¸ê³ 

- https://ko.javascript.info/modules-intro#ref-300
- https://www.zerocho.com/category/JavaScript/post/5b67e7847bbbd3001b43fd73
